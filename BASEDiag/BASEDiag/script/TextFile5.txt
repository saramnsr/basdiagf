ALTER TABLE BASEDIAG_INFOCOMPLEMENTAIRE DROP DUREETRTMT;


CREATE TABLE BASE_DIAG_PHASE (
    ID INTEGER NOT NULL,
    ID_PROPOSITON INTEGER NOT NULL,
    ID_PATIENT INTEGER NOT NULL,
    DUREE INTEGER NOT NULL,
    TYPETRTMNT INTEGER NOT NULL,
    TYPEDEPHASE VARCHAR(20),
    APPAREIL VARCHAR(10));
    
alter table BASE_DIAG_PHASE
add constraint PK_PHASE
primary key (ID);


ALTER TABLE BASEDIAG_INFOCOMPLEMENTAIRE
ADD RISQUES VARCHAR(1000) CHARACTER SET ISO8859_1 
COLLATE FR_FR ;


ALTER TABLE BASEDIAG_INFOCOMPLEMENTAIRE
ADD SEMESTRESENTAMES SMALLINT;


CREATE TABLE BASE_ACTE_GESTION (
    ID               INTEGER NOT NULL,
    CODE             VARCHAR(10) NOT NULL,
    LIBELLE          VARCHAR(200) NOT NULL,
    CODE_PRESTATION  VARCHAR(3) NOT NULL,
    ACTE_COEFF       DOUBLE PRECISION NOT NULL,
    DECOMPISVISIBLE  SMALLINT DEFAULT 0 NOT NULL,
    DECOMP           VARCHAR(20) NOT NULL,
    VALEUR           DOUBLE PRECISION NOT NULL,
    NEED_DEP         SMALLINT DEFAULT 0 NOT NULL,
    NEED_FSE         SMALLINT DEFAULT 0 NOT NULL,
    NB_JOURS         SMALLINT DEFAULT 0 NOT NULL,
    NB_MOIS          SMALLINT DEFAULT 0 NOT NULL
);


ALTER TABLE BASE_ACTE_GESTION ADD CONSTRAINT PK_BASE_ACTE_GESTION PRIMARY KEY (ID);

ALTER TABLE BASE_ACTE_GESTION
ADD PTRMNTSECU VARCHAR(2000) CHARACTER SET ISO8859_1 ;

ALTER TABLE BASE_ACTE_GESTION
ADD RISQUES VARCHAR(1000) CHARACTER SET ISO8859_1 ;


CREATE TABLE BASE_PROPOSITIONS (
    ID INTEGER NOT NULL,
    ETAT SMALLINT,
    DATEEVENT TIMESTAMP,
    TARIF DOUBLE PRECISION,
    RISQUES VARCHAR(2000),
    ID_PATIENT INTEGER,
    LIBELLE VARCHAR(200));
    
alter table BASE_PROPOSITIONS
add constraint PK_BASE_PROPOSITIONS
primary key (ID);

ALTER TABLE BASE_PROPOSITIONS
ADD DATE_ACCEPTATION TIMESTAMP;
